{"version":3,"sources":["../../../src/components/result/ReactiveList.js"],"names":["ReactiveList","props","currentPage","defaultPage","Math","max","state","from","size","isLoading","internalComponent","componentId","setQueryListener","onQueryChange","onError","componentDidMount","addComponent","stream","setStreaming","options","sortOptions","sort","dataField","order","sortBy","defaultQuery","query","execute","setQueryOptions","updateQuery","setReact","pagination","window","addEventListener","scrollHandler","componentWillReceiveProps","nextProps","totalPages","ceil","total","react","hits","onPageChange","scrollTo","setState","setPage","length","removeEventListener","componentWillUnmount","removeComponent","render","results","streamResults","streamHits","filteredResults","ids","map","item","_id","filter","includes","style","className","loader","innerClass","renderSortOptions","showResultStats","renderResultStats","renderNoResults","paginationAt","pages","onAllData","loadMore","listClass","onData","textAlign","margin","color","url","endsWith","generateQueryOptions","newReact","watchComponent","and","innerHeight","scrollY","document","body","offsetHeight","value","page","URLParams","setPageURL","onResultStats","time","onNoResults","handleSortChange","e","index","target","label","propTypes","funcRequired","func","number","bool","string","stringRequired","title","defaultProps","mapStateToProps","selectedValues","config","mapDispatchtoProps","dispatch","component","append","showFilter","beforeQueryChange","updateQueryObject"],"mappings":"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","file":"ReactiveList.js","sourcesContent":["import React, { Component } from 'react';\n\nimport {\n\taddComponent,\n\tremoveComponent,\n\tsetStreaming,\n\twatchComponent,\n\tsetQueryOptions,\n\tupdateQuery,\n\tloadMore,\n\tsetValue,\n\tsetQueryListener,\n} from '@appbaseio/reactivecore/lib/actions';\nimport {\n\tisEqual,\n\tgetQueryOptions,\n\tpushToAndClause,\n\tgetClassName,\n\tparseHits,\n} from '@appbaseio/reactivecore/lib/utils/helper';\nimport types from '@appbaseio/reactivecore/lib/utils/types';\n\nimport Pagination from './addons/Pagination';\nimport PoweredBy from './addons/PoweredBy';\n\nimport Flex from '../../styles/Flex';\nimport { resultStats, sortOptions } from '../../styles/results';\nimport { connect } from '../../utils';\n\nclass ReactiveList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tlet currentPage = 0;\n\t\tif (this.props.defaultPage >= 0) {\n\t\t\tcurrentPage = this.props.defaultPage;\n\t\t} else if (this.props.currentPage) {\n\t\t\tcurrentPage = Math.max(this.props.currentPage - 1, 0);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tfrom: props.currentPage * props.size,\n\t\t\tisLoading: true,\n\t\t\tcurrentPage,\n\t\t};\n\t\tthis.internalComponent = `${props.componentId}__internal`;\n\t\tprops.setQueryListener(props.componentId, props.onQueryChange, props.onError);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.addComponent(this.internalComponent);\n\t\tthis.props.addComponent(this.props.componentId);\n\n\t\tif (this.props.stream) {\n\t\t\tthis.props.setStreaming(this.props.componentId, true);\n\t\t}\n\n\t\tconst options = getQueryOptions(this.props);\n\t\toptions.from = this.state.from;\n\t\tif (this.props.sortOptions) {\n\t\t\toptions.sort = [{\n\t\t\t\t[this.props.sortOptions[0].dataField]: {\n\t\t\t\t\torder: this.props.sortOptions[0].sortBy,\n\t\t\t\t},\n\t\t\t}];\n\t\t} else if (this.props.sortBy) {\n\t\t\toptions.sort = [{\n\t\t\t\t[this.props.dataField]: {\n\t\t\t\t\torder: this.props.sortBy,\n\t\t\t\t},\n\t\t\t}];\n\t\t}\n\n\t\t// Override sort query with defaultQuery's sort if defined\n\t\tthis.defaultQuery = null;\n\t\tif (this.props.defaultQuery) {\n\t\t\tthis.defaultQuery = this.props.defaultQuery();\n\t\t\tif (this.defaultQuery.sort) {\n\t\t\t\toptions.sort = this.defaultQuery.sort;\n\t\t\t}\n\t\t}\n\n\t\tconst { sort, ...query } = this.defaultQuery || {};\n\n\t\t// execute is set to false at the time of mount\n\t\t// to avoid firing (multiple) partial queries.\n\t\t// Hence we are building the query in parts here\n\t\t// and only executing it with setReact() at core\n\t\tconst execute = false;\n\n\t\tthis.props.setQueryOptions(\n\t\t\tthis.props.componentId,\n\t\t\toptions,\n\t\t\texecute,\n\t\t);\n\n\t\tif (this.defaultQuery) {\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: this.internalComponent,\n\t\t\t\tquery,\n\t\t\t}, execute);\n\t\t} else {\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: this.internalComponent,\n\t\t\t\tquery: null,\n\t\t\t}, execute);\n\t\t}\n\n\t\t// query will be executed here\n\t\tthis.setReact(this.props);\n\n\t\tif (!this.props.pagination) {\n\t\t\twindow.addEventListener('scroll', this.scrollHandler);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst totalPages = Math.ceil(nextProps.total / nextProps.size) || 0;\n\n\t\tif (\n\t\t\t!isEqual(this.props.sortOptions, nextProps.sortOptions)\n\t\t\t|| this.props.sortBy !== nextProps.sortBy\n\t\t\t|| this.props.size !== nextProps.size\n\t\t\t|| !isEqual(this.props.dataField, nextProps.dataField)\n\t\t) {\n\t\t\tconst options = getQueryOptions(nextProps);\n\t\t\toptions.from = this.state.from;\n\t\t\tif (nextProps.sortOptions) {\n\t\t\t\toptions.sort = [{\n\t\t\t\t\t[nextProps.sortOptions[0].dataField]: {\n\t\t\t\t\t\torder: nextProps.sortOptions[0].sortBy,\n\t\t\t\t\t},\n\t\t\t\t}];\n\t\t\t} else if (nextProps.sortBy) {\n\t\t\t\toptions.sort = [{\n\t\t\t\t\t[nextProps.dataField]: {\n\t\t\t\t\t\torder: nextProps.sortBy,\n\t\t\t\t\t},\n\t\t\t\t}];\n\t\t\t}\n\t\t\tthis.props.setQueryOptions(this.props.componentId, options, true);\n\t\t}\n\n\t\tif (\n\t\t\tnextProps.defaultQuery\n\t\t\t&& !isEqual(nextProps.defaultQuery(), this.defaultQuery)\n\t\t) {\n\t\t\tconst options = getQueryOptions(nextProps);\n\t\t\toptions.from = this.state.from;\n\t\t\tthis.defaultQuery = nextProps.defaultQuery();\n\n\t\t\tconst { sort, ...query } = this.defaultQuery;\n\n\t\t\tif (sort) {\n\t\t\t\toptions.sort = this.defaultQuery.sort;\n\t\t\t\tnextProps.setQueryOptions(nextProps.componentId, options, !query);\n\t\t\t}\n\n\t\t\tthis.props.updateQuery({\n\t\t\t\tcomponentId: this.internalComponent,\n\t\t\t\tquery,\n\t\t\t}, true);\n\t\t}\n\n\t\tif (this.props.stream !== nextProps.stream) {\n\t\t\tthis.props.setStreaming(nextProps.componentId, nextProps.stream);\n\t\t}\n\n\t\tif (!isEqual(nextProps.react, this.props.react)) {\n\t\t\tthis.setReact(nextProps);\n\t\t}\n\n\t\tif (this.props.pagination) {\n\t\t\t// called when page is changed\n\t\t\tif (this.state.isLoading && (this.props.hits || nextProps.hits)) {\n\t\t\t\tif (nextProps.onPageChange) {\n\t\t\t\t\tnextProps.onPageChange(this.state.currentPage + 1, totalPages);\n\t\t\t\t} else {\n\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoading: false,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tthis.props.currentPage !== nextProps.currentPage\n\t\t\t\t&& nextProps.currentPage > 0\n\t\t\t\t&& nextProps.currentPage <= totalPages\n\t\t\t) {\n\t\t\t\tthis.setPage(nextProps.currentPage - 1);\n\t\t\t}\n\t\t}\n\n\t\tif (!nextProps.pagination) {\n\t\t\tif (this.props.hits && nextProps.hits) {\n\t\t\t\tif (\n\t\t\t\t\tthis.props.hits.length !== nextProps.hits.length\n\t\t\t\t\t|| nextProps.hits.length === nextProps.total\n\t\t\t\t) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoading: false,\n\t\t\t\t\t});\n\n\t\t\t\t\tif (nextProps.hits.length < this.props.hits.length) {\n\t\t\t\t\t\t// query has changed\n\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tfrom: 0,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ((!this.props.hits || !this.props.hits.length) && nextProps.hits) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoading: false,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (nextProps.pagination && nextProps.total !== this.props.total) {\n\t\t\tconst currentPage = this.props.total ? 0 : this.state.currentPage;\n\t\t\tthis.setState({\n\t\t\t\tcurrentPage,\n\t\t\t});\n\n\t\t\tif (nextProps.onPageChange) {\n\t\t\t\tnextProps.onPageChange(currentPage + 1, totalPages);\n\t\t\t}\n\t\t}\n\n\t\tif (nextProps.pagination !== this.props.pagination) {\n\t\t\tif (nextProps.pagination) {\n\t\t\t\twindow.addEventListener('scroll', this.scrollHandler);\n\t\t\t} else {\n\t\t\t\twindow.removeEventListener('scroll', this.scrollHandler);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.removeComponent(this.props.componentId);\n\t\tthis.props.removeComponent(this.internalComponent);\n\t\twindow.removeEventListener('scroll', this.scrollHandler);\n\t}\n\n\tsetReact = (props) => {\n\t\tconst { react } = props;\n\t\tif (react) {\n\t\t\tconst newReact = pushToAndClause(react, this.internalComponent);\n\t\t\tprops.watchComponent(props.componentId, newReact);\n\t\t} else {\n\t\t\tprops.watchComponent(props.componentId, { and: this.internalComponent });\n\t\t}\n\t};\n\n\t// only used for SSR\n\tstatic generateQueryOptions = (props) => {\n\t\tconst options = {};\n\t\toptions.from = props.currentPage ? (props.currentPage - 1) * (props.size || 10) : 0;\n\t\toptions.size = props.size || 10;\n\n\t\tif (props.sortOptions) {\n\t\t\toptions.sort = [{\n\t\t\t\t[props.sortOptions[0].dataField]: {\n\t\t\t\t\torder: props.sortOptions[0].sortBy,\n\t\t\t\t},\n\t\t\t}];\n\t\t} else if (props.sortBy) {\n\t\t\toptions.sort = [{\n\t\t\t\t[props.dataField]: {\n\t\t\t\t\torder: props.sortBy,\n\t\t\t\t},\n\t\t\t}];\n\t\t}\n\n\t\treturn options;\n\t};\n\n\tscrollHandler = () => {\n\t\tif (\n\t\t\t!this.state.isLoading\n\t\t\t&& (window.innerHeight + window.scrollY + 300) >= document.body.offsetHeight\n\t\t) {\n\t\t\tthis.loadMore();\n\t\t}\n\t};\n\n\tloadMore = () => {\n\t\tif (\n\t\t\tthis.props.hits\n\t\t\t&& !this.props.pagination\n\t\t\t&& this.props.total !== this.props.hits.length\n\t\t) {\n\t\t\tconst value = this.state.from + this.props.size;\n\t\t\tconst options = getQueryOptions(this.props);\n\n\t\t\tthis.setState({\n\t\t\t\tfrom: value,\n\t\t\t\tisLoading: true,\n\t\t\t});\n\t\t\tthis.props.loadMore(this.props.componentId, {\n\t\t\t\t...options,\n\t\t\t\tfrom: value,\n\t\t\t}, true);\n\t\t} else if (this.state.isLoading) {\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false,\n\t\t\t});\n\t\t}\n\t};\n\n\tsetPage = (page) => {\n\t\tconst value = this.props.size * page;\n\t\tconst options = getQueryOptions(this.props);\n\t\toptions.from = this.state.from;\n\t\tthis.setState({\n\t\t\tfrom: value,\n\t\t\tisLoading: true,\n\t\t\tcurrentPage: page,\n\t\t});\n\t\tthis.props.loadMore(this.props.componentId, {\n\t\t\t...options,\n\t\t\tfrom: value,\n\t\t}, false);\n\n\t\tif (this.props.URLParams) {\n\t\t\tthis.props.setPageURL(\n\t\t\t\t`${this.props.componentId}-page`,\n\t\t\t\tpage + 1,\n\t\t\t\t`${this.props.componentId}-page`,\n\t\t\t\tfalse,\n\t\t\t\ttrue,\n\t\t\t);\n\t\t}\n\t};\n\n\trenderResultStats = () => {\n\t\tif (this.props.onResultStats && this.props.total) {\n\t\t\treturn this.props.onResultStats(this.props.total, this.props.time);\n\t\t} else if (this.props.total) {\n\t\t\treturn (\n\t\t\t\t<p className={`${resultStats} ${getClassName(this.props.innerClass, 'resultStats')}`}>\n\t\t\t\t\t{this.props.total} results found in {this.props.time}ms\n\t\t\t\t</p>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\trenderNoResults = () => (\n\t\t<p className={getClassName(this.props.innerClass, 'noResults') || null}>\n\t\t\t{ this.props.onNoResults }\n\t\t</p>\n\t);\n\n\thandleSortChange = (e) => {\n\t\tconst index = e.target.value;\n\t\tconst options = getQueryOptions(this.props);\n\t\toptions.from = this.state.from;\n\n\t\toptions.sort = [{\n\t\t\t[this.props.sortOptions[index].dataField]: {\n\t\t\t\torder: this.props.sortOptions[index].sortBy,\n\t\t\t},\n\t\t}];\n\t\tthis.props.setQueryOptions(this.props.componentId, options, true);\n\t};\n\n\trenderSortOptions = () => (\n\t\t<select\n\t\t\tclassName={`${sortOptions} ${getClassName(this.props.innerClass, 'sortOptions')}`}\n\t\t\tname=\"sort-options\"\n\t\t\tonChange={this.handleSortChange}\n\t\t>\n\t\t\t{\n\t\t\t\tthis.props.sortOptions.map((sort, index) => (\n\t\t\t\t\t<option key={sort.label} value={index}>{sort.label}</option>\n\t\t\t\t))\n\t\t\t}\n\t\t</select>\n\t);\n\n\trender() {\n\t\tconst results = parseHits(this.props.hits) || [];\n\t\tconst streamResults = parseHits(this.props.streamHits) || [];\n\t\tlet filteredResults = results;\n\n\t\tif (streamResults.length) {\n\t\t\tconst ids = streamResults.map(item => item._id);\n\t\t\tfilteredResults = filteredResults.filter(item => !ids.includes(item._id));\n\t\t}\n\n\t\treturn (\n\t\t\t<div style={this.props.style} className={this.props.className}>\n\t\t\t\t{this.props.isLoading && this.props.pagination && this.props.loader}\n\t\t\t\t<Flex\n\t\t\t\t\tlabelPosition={this.props.sortOptions ? 'right' : 'left'}\n\t\t\t\t\tclassName={getClassName(this.props.innerClass, 'resultsInfo')}\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.sortOptions\n\t\t\t\t\t\t\t? this.renderSortOptions()\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.showResultStats\n\t\t\t\t\t\t\t? this.renderResultStats()\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</Flex>\n\t\t\t\t{\n\t\t\t\t\t(\n\t\t\t\t\t\t!this.state.isLoading\n\t\t\t\t\t\t&& (results.length === 0 && streamResults.length === 0)\n\t\t\t\t\t)\n\t\t\t\t\t\t? this.renderNoResults()\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.props.pagination && (\n\t\t\t\t\t\tthis.props.paginationAt === 'top'\n\t\t\t\t\t\t|| this.props.paginationAt === 'both'\n\t\t\t\t\t)\n\t\t\t\t\t\t? (<Pagination\n\t\t\t\t\t\t\tpages={this.props.pages}\n\t\t\t\t\t\t\ttotalPages={Math.ceil(this.props.total / this.props.size)}\n\t\t\t\t\t\t\tcurrentPage={this.state.currentPage}\n\t\t\t\t\t\t\tsetPage={this.setPage}\n\t\t\t\t\t\t\tinnerClass={this.props.innerClass}\n\t\t\t\t\t\t/>)\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.props.onAllData\n\t\t\t\t\t\t? (this.props.onAllData(results, streamResults, this.loadMore))\n\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t<div className={`${this.props.listClass} ${getClassName(this.props.innerClass, 'list')}`}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t[...streamResults, ...filteredResults].map(this.props.onData)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.state.isLoading && !this.props.pagination\n\t\t\t\t\t\t? this.props.loader || (\n\t\t\t\t\t\t\t<div style={{ textAlign: 'center', margin: '20px 0', color: '#666' }}>\n\t\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.props.pagination && (\n\t\t\t\t\t\tthis.props.paginationAt === 'bottom'\n\t\t\t\t\t\t|| this.props.paginationAt === 'both'\n\t\t\t\t\t)\n\t\t\t\t\t\t? (<Pagination\n\t\t\t\t\t\t\tpages={this.props.pages}\n\t\t\t\t\t\t\ttotalPages={Math.ceil(this.props.total / this.props.size)}\n\t\t\t\t\t\t\tcurrentPage={this.state.currentPage}\n\t\t\t\t\t\t\tsetPage={this.setPage}\n\t\t\t\t\t\t\tinnerClass={this.props.innerClass}\n\t\t\t\t\t\t/>)\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.props.url.endsWith('appbase.io') && results.length\n\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\t\tdirection=\"row-reverse\"\n\t\t\t\t\t\t\t\tclassName={getClassName(this.props.innerClass, 'poweredBy')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PoweredBy />\n\t\t\t\t\t\t\t</Flex>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nReactiveList.propTypes = {\n\taddComponent: types.funcRequired,\n\tloadMore: types.funcRequired,\n\tremoveComponent: types.funcRequired,\n\tsetQueryListener: types.funcRequired,\n\tonQueryChange: types.func,\n\tonError: types.func,\n\tsetPageURL: types.func,\n\tsetQueryOptions: types.funcRequired,\n\tsetStreaming: types.func,\n\tupdateQuery: types.funcRequired,\n\twatchComponent: types.funcRequired,\n\tcurrentPage: types.number,\n\thits: types.hits,\n\tisLoading: types.bool,\n\tstreamHits: types.hits,\n\ttime: types.number,\n\ttotal: types.number,\n\turl: types.string,\n\t// component props\n\tclassName: types.string,\n\tcomponentId: types.stringRequired,\n\tdataField: types.stringRequired,\n\tdefaultPage: types.number,\n\tdefaultQuery: types.func,\n\tinnerClass: types.style,\n\tlistClass: types.string,\n\tloader: types.title,\n\tonAllData: types.func,\n\tonData: types.func,\n\tonNoResults: types.title,\n\tonPageChange: types.func,\n\tonResultStats: types.func,\n\tpages: types.number,\n\tpagination: types.bool,\n\tpaginationAt: types.paginationAt,\n\treact: types.react,\n\tshowResultStats: types.bool,\n\tsize: types.number,\n\tsortBy: types.sortBy,\n\tsortOptions: types.sortOptions,\n\tstream: types.bool,\n\tstyle: types.style,\n\tURLParams: types.bool,\n};\n\nReactiveList.defaultProps = {\n\tclassName: null,\n\tcurrentPage: 0,\n\tpages: 5,\n\tpagination: false,\n\tpaginationAt: 'bottom',\n\tshowResultStats: true,\n\tsize: 10,\n\tstyle: {},\n\tURLParams: false,\n\tonNoResults: 'No Results found.',\n};\n\nconst mapStateToProps = (state, props) => ({\n\tdefaultPage: (\n\t\tstate.selectedValues[`${props.componentId}-page`]\n\t\t&& state.selectedValues[`${props.componentId}-page`].value - 1\n\t) || -1,\n\thits: state.hits[props.componentId] && state.hits[props.componentId].hits,\n\tisLoading: state.isLoading[props.componentId] || false,\n\tstreamHits: state.streamHits[props.componentId] || [],\n\ttime: (state.hits[props.componentId] && state.hits[props.componentId].time) || 0,\n\ttotal: state.hits[props.componentId] && state.hits[props.componentId].total,\n\turl: state.config.url,\n});\n\nconst mapDispatchtoProps = dispatch => ({\n\taddComponent: component => dispatch(addComponent(component)),\n\tloadMore: (component, options, append) => dispatch(loadMore(component, options, append)),\n\tremoveComponent: component => dispatch(removeComponent(component)),\n\tsetPageURL: (component, value, label, showFilter, URLParams) =>\n\t\tdispatch(setValue(component, value, label, showFilter, URLParams)),\n\tsetQueryOptions: (component, props, execute) =>\n\t\tdispatch(setQueryOptions(component, props, execute)),\n\tsetQueryListener: (component, onQueryChange, beforeQueryChange) =>\n\t\tdispatch(setQueryListener(component, onQueryChange, beforeQueryChange)),\n\tsetStreaming: (component, stream) => dispatch(setStreaming(component, stream)),\n\tupdateQuery: (updateQueryObject, execute) => dispatch(updateQuery(updateQueryObject, execute)),\n\twatchComponent: (component, react) => dispatch(watchComponent(component, react)),\n});\n\nexport default connect(mapStateToProps, mapDispatchtoProps)(ReactiveList);\n"]}