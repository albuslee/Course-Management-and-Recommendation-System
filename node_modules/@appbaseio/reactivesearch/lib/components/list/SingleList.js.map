{"version":3,"sources":["../../../src/components/list/SingleList.js"],"names":["SingleList","props","state","currentValue","options","dataField","buckets","searchTerm","locked","internalComponent","componentId","setQueryListener","onQueryChange","componentWillMount","addComponent","updateQueryOptions","setReact","selectedValue","setValue","defaultSelected","componentWillReceiveProps","nextProps","react","setState","updateQuery","componentWillUnmount","removeComponent","generateQueryOptions","queryOptions","aggs","terms","field","size","order","sortBy","showMissing","missing","missingLabel","render","selectAllLabel","renderListItem","length","style","className","title","innerClass","renderSearch","handleClick","showRadio","filter","item","String","key","showSearch","toLowerCase","includes","map","doc_count","showCount","defaultQuery","value","match_all","exists","bool","must_not","term","newReact","watchComponent","and","nextValue","beforeValueChange","performUpdate","onValueChange","query","customQuery","label","filterLabel","showFilter","URLParams","setQueryOptions","handleInputChange","e","target","placeholder","margin","themePreset","propTypes","funcRequired","func","string","stringRequired","boolRequired","number","sortByWithCount","defaultProps","mapStateToProps","aggregations","selectedValues","config","mapDispatchtoProps","dispatch","component","beforeQueryChange","updateQueryObject"],"mappings":"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","file":"SingleList.js","sourcesContent":["import React, { Component } from 'react';\n\nimport {\n\taddComponent,\n\tremoveComponent,\n\twatchComponent,\n\tupdateQuery,\n\tsetQueryOptions,\n\tsetQueryListener,\n} from '@appbaseio/reactivecore/lib/actions';\nimport {\n\tgetQueryOptions,\n\tpushToAndClause,\n\tcheckValueChange,\n\tgetAggsOrder,\n\tcheckPropChange,\n\tcheckSomePropChange,\n\tgetClassName,\n} from '@appbaseio/reactivecore/lib/utils/helper';\n\nimport types from '@appbaseio/reactivecore/lib/utils/types';\n\nimport Title from '../../styles/Title';\nimport Input from '../../styles/Input';\nimport Container from '../../styles/Container';\nimport { UL, Radio } from '../../styles/FormControlList';\nimport { connect } from '../../utils';\n\nclass SingleList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tcurrentValue: '',\n\t\t\toptions: (props.options && props.options[props.dataField])\n\t\t\t\t? props.options[props.dataField].buckets\n\t\t\t\t: [],\n\t\t\tsearchTerm: '',\n\t\t};\n\t\tthis.locked = false;\n\t\tthis.internalComponent = `${props.componentId}__internal`;\n\t\tprops.setQueryListener(props.componentId, props.onQueryChange, null);\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.props.addComponent(this.internalComponent);\n\t\tthis.props.addComponent(this.props.componentId);\n\t\tthis.updateQueryOptions(this.props);\n\n\t\tthis.setReact(this.props);\n\n\t\tif (this.props.selectedValue) {\n\t\t\tthis.setValue(this.props.selectedValue);\n\t\t} else if (this.props.defaultSelected) {\n\t\t\tthis.setValue(this.props.defaultSelected);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tcheckPropChange(\n\t\t\tthis.props.react,\n\t\t\tnextProps.react,\n\t\t\t() => this.setReact(nextProps),\n\t\t);\n\t\tcheckPropChange(\n\t\t\tthis.props.options,\n\t\t\tnextProps.options,\n\t\t\t() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\toptions: nextProps.options[nextProps.dataField]\n\t\t\t\t\t\t? nextProps.options[nextProps.dataField].buckets\n\t\t\t\t\t\t: [],\n\t\t\t\t});\n\t\t\t},\n\t\t);\n\t\tcheckSomePropChange(\n\t\t\tthis.props,\n\t\t\tnextProps,\n\t\t\t['size', 'sortBy'],\n\t\t\t() => this.updateQueryOptions(nextProps),\n\t\t);\n\n\t\tcheckPropChange(\n\t\t\tthis.props.dataField,\n\t\t\tnextProps.dataField,\n\t\t\t() => {\n\t\t\t\tthis.updateQueryOptions(nextProps);\n\t\t\t\tthis.updateQuery(this.state.currentValue, nextProps);\n\t\t\t},\n\t\t);\n\n\t\tif (this.props.defaultSelected !== nextProps.defaultSelected) {\n\t\t\tthis.setValue(nextProps.defaultSelected);\n\t\t} else if (this.state.currentValue !== nextProps.selectedValue) {\n\t\t\tthis.setValue(nextProps.selectedValue || '');\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.removeComponent(this.props.componentId);\n\t\tthis.props.removeComponent(this.internalComponent);\n\t}\n\n\tsetReact = (props) => {\n\t\tconst { react } = props;\n\t\tif (react) {\n\t\t\tconst newReact = pushToAndClause(react, this.internalComponent);\n\t\t\tprops.watchComponent(props.componentId, newReact);\n\t\t} else {\n\t\t\tprops.watchComponent(props.componentId, { and: this.internalComponent });\n\t\t}\n\t};\n\n\tstatic defaultQuery = (value, props) => {\n\t\tif (props.selectAllLabel && props.selectAllLabel === value) {\n\t\t\tif (props.showMissing) {\n\t\t\t\treturn { match_all: {} };\n\t\t\t}\n\t\t\treturn {\n\t\t\t\texists: {\n\t\t\t\t\tfield: props.dataField,\n\t\t\t\t},\n\t\t\t};\n\t\t} else if (value) {\n\t\t\tif (props.showMissing && props.missingLabel === value) {\n\t\t\t\treturn {\n\t\t\t\t\tbool: {\n\t\t\t\t\t\tmust_not: {\n\t\t\t\t\t\t\texists: { field: props.dataField },\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tterm: {\n\t\t\t\t\t[props.dataField]: value,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t};\n\n\tsetValue = (nextValue, props = this.props) => {\n\t\t// ignore state updates when component is locked\n\t\tif (props.beforeValueChange && this.locked) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.locked = true;\n\t\tlet value = nextValue;\n\t\tif (nextValue === this.state.currentValue) {\n\t\t\tvalue = '';\n\t\t}\n\n\t\tconst performUpdate = () => {\n\t\t\tthis.setState({\n\t\t\t\tcurrentValue: value,\n\t\t\t}, () => {\n\t\t\t\tthis.updateQuery(value, props);\n\t\t\t\tthis.locked = false;\n\t\t\t\tif (props.onValueChange) props.onValueChange(value);\n\t\t\t});\n\t\t};\n\n\t\tcheckValueChange(\n\t\t\tprops.componentId,\n\t\t\tvalue,\n\t\t\tprops.beforeValueChange,\n\t\t\tperformUpdate,\n\t\t);\n\t};\n\n\tupdateQuery = (value, props) => {\n\t\tconst query = props.customQuery || SingleList.defaultQuery;\n\n\t\tprops.updateQuery({\n\t\t\tcomponentId: props.componentId,\n\t\t\tquery: query(value, props),\n\t\t\tvalue,\n\t\t\tlabel: props.filterLabel,\n\t\t\tshowFilter: props.showFilter,\n\t\t\tURLParams: props.URLParams,\n\t\t});\n\t};\n\n\tstatic generateQueryOptions(props) {\n\t\tconst queryOptions = getQueryOptions(props);\n\t\tqueryOptions.aggs = {\n\t\t\t[props.dataField]: {\n\t\t\t\tterms: {\n\t\t\t\t\tfield: props.dataField,\n\t\t\t\t\tsize: props.size,\n\t\t\t\t\torder: getAggsOrder(props.sortBy || 'count'),\n\t\t\t\t\t...(props.showMissing ? { missing: props.missingLabel } : {}),\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\t\treturn queryOptions;\n\t}\n\n\tupdateQueryOptions = (props) => {\n\t\tconst queryOptions = SingleList.generateQueryOptions(props);\n\t\tprops.setQueryOptions(this.internalComponent, queryOptions);\n\t};\n\n\thandleInputChange = (e) => {\n\t\tconst { value } = e.target;\n\t\tthis.setState({\n\t\t\tsearchTerm: value,\n\t\t});\n\t};\n\n\trenderSearch = () => {\n\t\tif (this.props.showSearch) {\n\t\t\treturn (<Input\n\t\t\t\tclassName={getClassName(this.props.innerClass, 'input') || null}\n\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\tvalue={this.state.searchTerm}\n\t\t\t\tplaceholder={this.props.placeholder}\n\t\t\t\tstyle={{\n\t\t\t\t\tmargin: '0 0 8px',\n\t\t\t\t}}\n\t\t\t\tthemePreset={this.props.themePreset}\n\t\t\t/>);\n\t\t}\n\t\treturn null;\n\t};\n\n\thandleClick = (e) => {\n\t\tthis.setValue(e.target.value);\n\t};\n\n\trender() {\n\t\tconst { selectAllLabel, renderListItem } = this.props;\n\n\t\tif (this.state.options.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Container style={this.props.style} className={this.props.className}>\n\t\t\t\t{this.props.title && <Title className={getClassName(this.props.innerClass, 'title') || null}>{this.props.title}</Title>}\n\t\t\t\t{this.renderSearch()}\n\t\t\t\t<UL className={getClassName(this.props.innerClass, 'list') || null}>\n\t\t\t\t\t{\n\t\t\t\t\t\tselectAllLabel\n\t\t\t\t\t\t\t? (\n\t\t\t\t\t\t\t\t<li key={selectAllLabel} className={`${this.state.currentValue === selectAllLabel ? 'active' : ''}`}>\n\t\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\t\tclassName={getClassName(this.props.innerClass, 'radio')}\n\t\t\t\t\t\t\t\t\t\tid={`${this.props.componentId}-${selectAllLabel}`}\n\t\t\t\t\t\t\t\t\t\tname={this.props.componentId}\n\t\t\t\t\t\t\t\t\t\tvalue={selectAllLabel}\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.currentValue === selectAllLabel}\n\t\t\t\t\t\t\t\t\t\tshow={this.props.showRadio}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tclassName={getClassName(this.props.innerClass, 'label') || null}\n\t\t\t\t\t\t\t\t\t\thtmlFor={`${this.props.componentId}-${selectAllLabel}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{selectAllLabel}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.options\n\t\t\t\t\t\t\t.filter((item) => {\n\t\t\t\t\t\t\t\tif (String(item.key).length) {\n\t\t\t\t\t\t\t\t\tif (this.props.showSearch && this.state.searchTerm) {\n\t\t\t\t\t\t\t\t\t\treturn String(item.key).toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t.includes(this.state.searchTerm.toLowerCase());\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.map(item => (\n\t\t\t\t\t\t\t\t<li key={item.key} className={`${this.state.currentValue === String(item.key) ? 'active' : ''}`}>\n\t\t\t\t\t\t\t\t\t<Radio\n\t\t\t\t\t\t\t\t\t\tclassName={getClassName(this.props.innerClass, 'radio')}\n\t\t\t\t\t\t\t\t\t\tid={`${this.props.componentId}-${item.key}`}\n\t\t\t\t\t\t\t\t\t\tname={this.props.componentId}\n\t\t\t\t\t\t\t\t\t\tvalue={item.key}\n\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.currentValue === String(item.key)}\n\t\t\t\t\t\t\t\t\t\tshow={this.props.showRadio}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tclassName={getClassName(this.props.innerClass, 'label') || null}\n\t\t\t\t\t\t\t\t\t\thtmlFor={`${this.props.componentId}-${item.key}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trenderListItem\n\t\t\t\t\t\t\t\t\t\t\t\t? renderListItem(item.key, item.doc_count)\n\t\t\t\t\t\t\t\t\t\t\t\t: (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.props.showCount\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetClassName(this.props.innerClass, 'count')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t|| null\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;({item.doc_count})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</UL>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nSingleList.propTypes = {\n\taddComponent: types.funcRequired,\n\tremoveComponent: types.funcRequired,\n\tsetQueryListener: types.funcRequired,\n\tsetQueryOptions: types.funcRequired,\n\tupdateQuery: types.funcRequired,\n\twatchComponent: types.funcRequired,\n\toptions: types.options,\n\tselectedValue: types.selectedValue,\n\t// component props\n\tbeforeValueChange: types.func,\n\tclassName: types.string,\n\tcomponentId: types.stringRequired,\n\tcustomQuery: types.func,\n\tdataField: types.stringRequired,\n\tdefaultSelected: types.string,\n\tfilterLabel: types.string,\n\tinnerClass: types.style,\n\tonQueryChange: types.func,\n\tonValueChange: types.func,\n\tplaceholder: types.string,\n\treact: types.react,\n\trenderListItem: types.func,\n\tselectAllLabel: types.string,\n\tshowCount: types.bool,\n\tshowFilter: types.bool,\n\tshowRadio: types.boolRequired,\n\tshowSearch: types.bool,\n\tsize: types.number,\n\tsortBy: types.sortByWithCount,\n\tstyle: types.style,\n\tthemePreset: types.themePreset,\n\ttitle: types.title,\n\tURLParams: types.bool,\n\tshowMissing: types.bool,\n\tmissingLabel: types.string,\n};\n\nSingleList.defaultProps = {\n\tclassName: null,\n\tplaceholder: 'Search',\n\tshowCount: true,\n\tshowFilter: true,\n\tshowRadio: true,\n\tshowSearch: true,\n\tsize: 100,\n\tsortBy: 'count',\n\tstyle: {},\n\tURLParams: false,\n\tshowMissing: false,\n\tmissingLabel: 'N/A',\n};\n\nconst mapStateToProps = (state, props) => ({\n\toptions: state.aggregations[props.componentId],\n\tselectedValue: (state.selectedValues[props.componentId]\n\t\t&& state.selectedValues[props.componentId].value) || '',\n\tthemePreset: state.config.themePreset,\n});\n\nconst mapDispatchtoProps = dispatch => ({\n\taddComponent: component => dispatch(addComponent(component)),\n\tremoveComponent: component => dispatch(removeComponent(component)),\n\tsetQueryOptions: (component, props) => dispatch(setQueryOptions(component, props)),\n\tsetQueryListener: (component, onQueryChange, beforeQueryChange) =>\n\t\tdispatch(setQueryListener(component, onQueryChange, beforeQueryChange)),\n\tupdateQuery: updateQueryObject => dispatch(updateQuery(updateQueryObject)),\n\twatchComponent: (component, react) => dispatch(watchComponent(component, react)),\n});\n\nexport default connect(mapStateToProps, mapDispatchtoProps)(SingleList);\n"]}